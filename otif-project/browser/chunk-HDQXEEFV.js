import{d as j,g as U,o as W,p as $,q as z,u as G}from"./chunk-WUVU5367.js";import{e as R,f as B}from"./chunk-YLFRZMSI.js";import{h as A,i as F,j as L,k as D,m as V}from"./chunk-XNJB6KBV.js";import{$a as e,Ab as T,Cb as P,Ea as s,Fa as S,Fb as M,Hb as O,Va as b,Xa as m,_ as y,ab as t,bb as d,eb as v,ia as x,ib as p,ja as h,jb as u,qb as i,rb as f,sb as C,ub as N,vb as w,wb as E,xb as k,zb as I}from"./chunk-PZVZLHCQ.js";var J=()=>[5,10,20],K=(a,r)=>({"bg-gray-100":a,"bg-white":r}),q=(a,r)=>({"bg-green-500 text-white px-6 py-1 rounded-sm":a,"bg-red-500 text-white px-2 py-1 rounded":r});function H(a,r){if(a&1){let o=v();e(0,"tr",29)(1,"td",30),i(2),t(),e(3,"td",30)(4,"button",31),p("click",function(){let l=x(o).$implicit,n=u();return h(n.openPopup(l))}),i(5," Voir le message complet "),t()(),e(6,"td",30),i(7),M(8,"date"),t(),e(9,"td",30)(10,"span",29),i(11),t()(),e(12,"td",32)(13,"button",33),p("click",function(){let l=x(o).$implicit,n=u();return h(n.deleteNotification(l))}),d(14,"i",34),t()()()}if(a&2){let o=r.$implicit;m("ngClass",P(8,K,o.status==="Lu",o.status!=="Lu")),s(2),f(o.name),s(5),f(O(8,5,o.creationDate,"dd MMM yyyy")),s(3),m("ngClass",P(11,q,o.status==="Lu",o.status!=="Lu")),s(),C(" ",o.status," ")}}function Q(a,r){if(a&1&&(e(0,"option",35),i(1),t()),a&2){let o=r.$implicit;m("value",o),s(),f(o)}}function X(a,r){if(a&1){let o=v();e(0,"div",36)(1,"div",37)(2,"h2",38),i(3),t(),e(4,"p",39),i(5),t(),e(6,"button",40),p("click",function(){x(o);let l=u();return h(l.markAsRead())}),i(7," OK "),t(),e(8,"button",41),p("click",function(){x(o);let l=u();return h(l.closePopup())}),i(9,"Annuler"),t()()()}if(a&2){let o=u();s(3),f(o.selectedNotification.name),s(2),f(o.selectedNotification.message)}}var ae=(()=>{let r=class r{constructor(c){this.router=c,this.notifications=[{name:"Mr OUATTARA",message:"Pape souhaiterait s'entretenir avec vous ",creationDate:new Date("2024-08-16"),status:"Lu"},{name:"Mr OUATTARA",message:"Bintou souhaiterait s'entretenir avec vous",creationDate:new Date("2024-08-25"),status:"Non Lu"},{name:"Mr OUATTARA",message:"Amina souhaiterait s'entretenir avec vous",creationDate:new Date("2024-09-01"),status:"Non Lu"}],this.itemsPerPage=5,this.currentPage=1,this.totalItems=this.notifications.length,this.selectedNotification=null}ngOnInit(){}onItemsPerPageChange(c){this.currentPage=1}prevPage(){this.currentPage>1&&(this.currentPage-=this.itemsPerPage)}nextPage(){this.currentPage+this.itemsPerPage-1<this.totalItems&&(this.currentPage+=this.itemsPerPage)}logout(){localStorage.removeItem("userToken"),this.router.navigate(["/login"])}openPopup(c){this.selectedNotification=c}closePopup(){this.selectedNotification=null}markAsRead(){this.selectedNotification&&(this.selectedNotification.status="Lu",this.closePopup())}deleteNotification(c){let l=this.notifications.indexOf(c);l!==-1&&(this.notifications.splice(l,1),this.totalItems=this.notifications.length)}};r.\u0275fac=function(l){return new(l||r)(S(R))},r.\u0275cmp=y({type:r,selectors:[["app-notification"]],standalone:!0,features:[I],decls:54,vars:10,consts:[[1,"flex","font-poppins"],[1,"w-1/5","bg-red-900","text-white","h-screen","p-4"],[1,"mb-8","mt-10"],[1,"text-white","text-xl"],[1,"flex","items-center","p-2","mt-6","text-gray-200","hover:bg-red-700"],[1,"fas","fa-home","mr-3"],["routerLink","/dashboard",1,"text-white","hover:text-gray-200"],[1,"fas","fa-bell","mr-3"],["routerLink","dashboard/notification"],[1,"bg-red-600","text-white","text-xs","ml-auto","rounded-full","px-2"],[1,"fas","fa-database","mr-3"],["routerLink","/dashboard/gestion-rv",1,"text-white","hover:text-gray-200"],[1,"flex","items-center","p-2","mt-64","text-gray-200","hover:bg-red-700"],[1,"fas","fa-sign-out-alt","mr-3"],[1,"text-white","hover:text-gray-200",3,"click"],[1,"flex-1","p-6","mt-6"],[1,"text-2xl","font-semibold","text-gray-700","mb-6","text-center"],[1,"min-w-full","divide-y","divide-gray-200","mt-10"],[1,"bg-red-900","text-white"],[1,"px-6","py-3","text-left","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mt-10"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"fas","fa-chevron-right"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",4,"ngIf"],[3,"ngClass"],[1,"py-4","px-6"],[1,"text-customBlue","font-semibold",3,"click"],[1,"py-4","px-6","ml-4","flex","items-center"],[1,"text-red-500",3,"click"],[1,"fas","fa-trash-alt"],[3,"value"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50"],[1,"bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-lg","font-semibold","mb-4"],[1,"mb-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded",3,"click"],[1,"ml-4","text-gray-700",3,"click"]],template:function(l,n){l&1&&(e(0,"div",0)(1,"aside",1)(2,"div",2)(3,"p",3),i(4,"BONJOUR"),t()(),e(5,"ul")(6,"li",4),d(7,"i",5),e(8,"button",6),i(9,"Tableau de bord"),t()(),e(10,"li",4),d(11,"i",7),e(12,"button",8),i(13,"Notification"),t(),d(14,"span",9),t(),e(15,"li",4),d(16,"i",10),e(17,"button",11),i(18,"Gestion des rendez-vous"),t()(),e(19,"li",12),d(20,"i",13),e(21,"button",14),p("click",function(){return n.logout()}),i(22,"D\xE9connexion"),t()()()(),e(23,"div",15)(24,"h1",16),i(25,"LISTE DES NOTIFICATIONS"),t(),e(26,"table",17)(27,"thead",18)(28,"tr")(29,"th",19),i(30,"Nom"),t(),e(31,"th",19),i(32,"Message"),t(),e(33,"th",19),i(34,"Date de Cr\xE9ation"),t(),e(35,"th",19),i(36,"Statut"),t(),e(37,"th",19),i(38,"Actions"),t()()(),e(39,"tbody",20),b(40,H,15,14,"tr",21),t()(),e(41,"div",22)(42,"span"),i(43,"Items per page: "),e(44,"select",23),k("ngModelChange",function(g){return E(n.itemsPerPage,g)||(n.itemsPerPage=g),g}),p("change",function(g){return n.onItemsPerPageChange(g)}),b(45,Q,2,2,"option",24),t()(),e(46,"span"),i(47),t(),e(48,"div")(49,"button",25),p("click",function(){return n.prevPage()}),d(50,"i",26),t(),e(51,"button",25),p("click",function(){return n.nextPage()}),d(52,"i",27),t()()()(),b(53,X,10,2,"div",28),t()),l&2&&(s(40),m("ngForOf",n.notifications),s(4),w("ngModel",n.itemsPerPage),s(),m("ngForOf",T(9,J)),s(2),N("",n.currentPage," \u2013 ",n.currentPage+n.itemsPerPage-1," of ",n.totalItems,""),s(2),m("disabled",n.currentPage===1),s(2),m("disabled",n.currentPage+n.itemsPerPage-1>=n.totalItems),s(2),m("ngIf",n.selectedNotification))},dependencies:[V,A,F,L,D,G,$,z,W,j,U,B]});let a=r;return a})();export{ae as a};
