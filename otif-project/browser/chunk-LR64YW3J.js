import{a as v}from"./chunk-Z2JIHJKC.js";import"./chunk-RUNL3XBD.js";import"./chunk-JCJIXIGU.js";import"./chunk-ODOJOCJF.js";import{e as h}from"./chunk-YLFRZMSI.js";import"./chunk-SG3IG2V7.js";import"./chunk-XNJB6KBV.js";import{$a as t,Ea as p,Fa as c,_ as f,ab as n,bb as a,ib as s,qb as i,tb as m,zb as g}from"./chunk-PZVZLHCQ.js";import"./chunk-ODN5LVDJ.js";var S=(()=>{let r=class r{constructor(l,o){this.router=l,this.apppointmentService=o,this.app_approuv=[],this.app_decline=[],this.app_wait=[]}ngOnInit(){let l=localStorage.getItem("userToken");l?(this.user=JSON.parse(l),console.log(this.user)):console.error("No user token found in localStorage"),console.log(this.user),this.apppointmentService.getBySpeaker(this.user.id).subscribe(o=>{console.log("Intervenants:",o),this.appointment=o;for(let e of o)e.status=="approuv\xE9"?(this.app_approuv.push(e),console.log(this.app_approuv.length)):e.status=="d\xE9clin\xE9"?this.app_decline.push(e):(e.status="en attente")&&this.app_wait.push(e)},o=>{console.error("Error fetching intervenants",o)})}logout(){localStorage.removeItem("userToken"),window.location.href="/login"}goToIntervenant(){window.location.href="/homeuser"}goToParticipants(){window.location.href="/participants"}goToDetail(l){this.router.navigate(["/intervenant",l])}goToRdv(){this.router.navigate(["/mes-rendez-vous"])}gestionRdv(){this.router.navigate(["/dashboard/gestion-rv"])}downloadPdf(){let l="123";this.apppointmentService.downloadCalendar(this.user.id)}};r.\u0275fac=function(o){return new(o||r)(c(h),c(v))},r.\u0275cmp=f({type:r,selectors:[["app-dashboard"]],standalone:!0,features:[g],decls:52,vars:8,consts:[[1,"flex","font-poppins","min-h-screen"],[1,"w-1/5","bg-red-900","text-white","flex","flex-col"],[1,"p-8"],[1,"text-white","text-xl","font-semibold"],[1,"px-4","flex-grow"],[1,"flex","items-center","p-2","mt-6","text-gray-200","hover:bg-red-700"],[1,"fas","fa-users","mr-3"],[1,"w-full","text-left",3,"click"],[1,"fas","fa-calendar-alt","mr-3"],[1,"fas","fa-database","mr-3"],[1,"fas","fa-sign-out-alt","mr-3"],[1,"w-4/5","px-6","flex-grow"],[1,"text-3xl","font-bold","text-red-900","mb-8"],[1,"text-xl","font-semibold","text-gray-700","mb-6"],[1,"font-poppins","bg-gray-200","rounded-lg","p-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8","mt-16"],[1,"bg-white","p-6","rounded-lg","shadow-lg","text-center"],[1,"text-2xl","font-bold","text-gray-700","mb-2"],[1,"fas","fa-clock","text-blue-600","text-4xl","mb-4"],[1,"text-gray-600"],[1,"fas","fa-check-circle","text-green-600","text-4xl","mb-4"],[1,"fas","fa-times-circle","text-red-600","text-4xl","mb-4"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"aside",1)(2,"div",2)(3,"p",3),i(4),n()(),t(5,"ul",4)(6,"ul",4)(7,"li",5),a(8,"i",6),t(9,"button",7),s("click",function(){return e.goToIntervenant()}),i(10,"Les Intervenants"),n()(),t(11,"li",5),a(12,"i",6),t(13,"button",7),s("click",function(){return e.goToParticipants()}),i(14,"Les Participants"),n()(),t(15,"li",5),a(16,"i",8),t(17,"button",7),s("click",function(){return e.goToRdv()}),i(18,"Mes Rendez-vous"),n()(),t(19,"li",5),a(20,"i",9),t(21,"button",7),s("click",function(){return e.gestionRdv()}),i(22,"Gestion des rendez-vous"),n()(),t(23,"li",5),a(24,"i",10),t(25,"button",7),s("click",function(){return e.logout()}),i(26,"D\xE9connexion"),n()()()()(),t(27,"main",11)(28,"h1",12),i(29,"TABLEAU DE BORD"),n(),t(30,"h2",13),i(31,"DEMANDE D'INTERVIEW"),n(),t(32,"div",14)(33,"div",15)(34,"div",16)(35,"h3",17),i(36),n(),a(37,"i",18),t(38,"p",19),i(39,"En attente"),n()(),t(40,"div",16)(41,"h3",17),i(42),n(),a(43,"i",20),t(44,"p",19),i(45,"Valid\xE9es"),n()(),t(46,"div",16)(47,"h3",17),i(48),n(),a(49,"i",21),t(50,"p",19),i(51,"Refus\xE9es"),n()()()()()()),o&2&&(p(4),m("Bonjour ",e.user.first_name," ",e.user.last_name,""),p(32),m("",e.app_wait.length,"/",e.appointment==null?null:e.appointment.length,""),p(6),m("",e.app_approuv.length,"/",e.appointment==null?null:e.appointment.length,""),p(6),m("",e.app_decline.length,"/",e.appointment==null?null:e.appointment.length,""))}});let u=r;return u})();export{S as DashboardComponent};
