import{a as J}from"./chunk-7UVHNH5K.js";import{a as z}from"./chunk-Z2JIHJKC.js";import"./chunk-RUNL3XBD.js";import"./chunk-JCJIXIGU.js";import"./chunk-ODOJOCJF.js";import{e as N}from"./chunk-YLFRZMSI.js";import"./chunk-SG3IG2V7.js";import{h as V,i as B,j as D,m as M}from"./chunk-XNJB6KBV.js";import{b as R,c as $,d as P}from"./chunk-SQ36XKR5.js";import{$a as s,Ba as E,Cb as T,Ea as r,Eb as O,Fa as h,Fb as d,Gb as u,Va as f,Xa as p,Y as k,_ as y,_a as F,ab as l,bb as c,cb as w,db as C,eb as b,ia as _,ib as g,ja as x,jb as v,qb as m,rb as S,sb as I,tb as U,ub as A,zb as j}from"./chunk-PZVZLHCQ.js";import"./chunk-ODN5LVDJ.js";var q=(e,i)=>({"w-96 space-y-8":e,"w-22 space-y-24":i}),G=(e,i)=>({block:e,hidden:i}),H=(e,i,o,t)=>({"bg-red-700":e,"text-white":i,"w-82":o,"w-11":t});function K(e,i){if(e&1&&(s(0,"span",21),m(1),d(2,"translate"),l()),e&2){let o=v().$implicit;r(),S(u(2,1,o.label))}}function Q(e,i){if(e&1){let o=b();s(0,"li",18),g("click",function(){let a=_(o).$implicit,n=v();return x(a.route==="download"?n.downloadPdf():n.goto(a.route))}),c(1,"i",19),f(2,K,3,3,"span",20),l()}if(e&2){let o=i.$implicit,t=v();p("ngClass",O(4,H,t.activeRoute===o.route,t.activeRoute===o.route,!t.isCollapsed,t.isCollapsed)),r(),F(o.icon),r(),p("ngIf",!t.isCollapsed)}}function W(e,i){e&1&&(w(0),c(1,"i",22),m(2),d(3,"translate"),C()),e&2&&(r(2),I(" ",u(3,1,"home-user.logout")," "))}function X(e,i){e&1&&(w(0),c(1,"i",23),C())}function Y(e,i){if(e&1){let o=b();s(0,"div",24),g("click",function(){let a=_(o).$implicit,n=v();return x(n.goToDetail(a.id))}),c(1,"img",25),s(2,"div",26)(3,"button",27),m(4),l()()()}if(e&2){let o=i.$implicit;r(),p("src",o!=null&&o.image?"../../../assets/"+o.image:"../../../assets/user.jpg",E),r(3),U("",o.first_name," ",o.last_name,"")}}var pe=(()=>{let i=class i{constructor(t,a,n){this.router=t,this.userService=a,this.appointmentService=n,this.intervenants=[],this.translate=k(R),this.isCollapsed=!1,this.activeRoute="",this.menuItems=[{label:"home-user.intervenants",route:"homeuser",icon:"fas fa-users"},{label:"home-user.participants",route:"participants",icon:"fas fa-users"},{label:"home-user.my-appointments",route:"mes-rendez-vous",icon:"fas fa-calendar-alt"},{label:"home-user.appointment-management",route:"/dashboard/gestion-rv",icon:"fas fa-database"},{label:"home-user.calendar-management",route:"calandar",icon:"fas fa-calendar-check"},{label:"home-user.download",route:"download",icon:"fa fa-arrow-circle-down"}]}ngOnInit(){this.translate.setDefaultLang("fr");let t=localStorage.getItem("userToken");t?(this.user=JSON.parse(t),console.log(this.user)):console.error("No user token found in localStorage"),this.userService.getIntervenants().subscribe(a=>{this.intervenants=a.filter(n=>n.role!=="Intervenant"&&n.id!==this.user.id),console.log("Intervenants:",this.intervenants)},a=>{console.error("Error fetching intervenants",a)})}translateText(t){this.translate.use(t)}logout(){localStorage.removeItem("userToken"),window.location.href="/login"}goToIntervenant(){window.location.href="/homeuser"}goToDetail(t){this.router.navigate(["/intervenant",t])}goToRdv(){this.router.navigate(["/mes-rendez-vous"])}goToParticipants(){window.location.href="/participants"}goTocandar(){this.router.navigate(["/calandar"])}downloadPdf(){let t="123";this.appointmentService.downloadCalendar(this.user.id)}goto(t){this.router.navigate([t])}toggleSidebar(){this.isCollapsed=!this.isCollapsed}};i.\u0275fac=function(a){return new(a||i)(h(N),h(J),h(z))},i.\u0275cmp=y({type:i,selectors:[["app-user-appointment"]],standalone:!0,features:[j],decls:26,vars:23,consts:[[1,"flex","font-poppins"],[1,"bg-red-900","text-white","rounded-xl","flex","flex-col","py-4","mx-2","mt-4","mb-4",3,"ngClass"],[1,"px-4"],[1,"focus:outline-none","pl-2",3,"click"],[1,"fas","fa-bars"],[1,"p-4","text-center",3,"ngClass"],[1,"text-xl","font-semibold"],[1,"flex-1","ml-4","space-y-4","overflow-auto"],["class","h-12 p-2 flex items-center cursor-pointer hover:bg-red-700",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-white","text-red-900","p-2","rounded","mt-auto","mx-4","flex","items-center","justify-center",3,"click"],[4,"ngIf"],[1,"w-4/5","px-6","flex-grow"],[1,"text-3xl","font-bold","text-red-900","mb-8"],[1,"font-poppins","bg-gray-200","rounded-lg","p-6"],[1,"text-3xl","ml-12","font-bold","mb-4"],[1,"block","w-12","h-1","bg-red-800","mt-1"],[1,"w-full","flex","flex-wrap","justify-center"],["class","relative bg-white rounded-lg shadow-lg w-72 m-4 text-center overflow-hidden group transition-transform transform hover:scale-105",3,"click",4,"ngFor","ngForOf"],[1,"h-12","p-2","flex","items-center","cursor-pointer","hover:bg-red-700",3,"click","ngClass"],[1,"mr-2"],["class","text-xs sm:text-lg font-light",4,"ngIf"],[1,"text-xs","sm:text-lg","font-light"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"fas","fa-sign-out-alt"],[1,"relative","bg-white","rounded-lg","shadow-lg","w-72","m-4","text-center","overflow-hidden","group","transition-transform","transform","hover:scale-105",3,"click"],[1,"w-full","h-80","object-cover",3,"src"],[1,"p-4"],[1,"text-lg","font-semibold"]],template:function(a,n){a&1&&(s(0,"div",0)(1,"aside",1)(2,"div",2)(3,"button",3),g("click",function(){return n.toggleSidebar()}),c(4,"i",4),l()(),s(5,"div",5)(6,"p",6),m(7),d(8,"translate"),l()(),s(9,"ul",7),f(10,Q,3,9,"li",8),l(),s(11,"button",9),g("click",function(){return n.logout()}),f(12,W,4,3,"ng-container",10)(13,X,2,0,"ng-container",10),l()(),s(14,"main",11)(15,"h1",12),m(16),d(17,"translate"),l(),s(18,"div",13)(19,"div")(20,"h2",14),m(21),d(22,"translate"),c(23,"span",15),l()(),s(24,"div",16),f(25,Y,5,3,"div",17),l()()()()),a&2&&(r(),p("ngClass",T(17,q,!n.isCollapsed,n.isCollapsed)),r(4),p("ngClass",T(20,G,!n.isCollapsed,n.isCollapsed)),r(2),A(" ",u(8,11,"home-user.hello")," ",n.user.first_name," ",n.user.last_name," "),r(3),p("ngForOf",n.menuItems),r(2),p("ngIf",!n.isCollapsed),r(),p("ngIf",n.isCollapsed),r(3),S(u(17,13,"home-user.part-list")),r(5),I(" ",u(22,15,"home-user.meet-part")," "),r(4),p("ngForOf",n.intervenants))},dependencies:[M,V,B,D,P,$]});let e=i;return e})();export{pe as UserAppointmentComponent};
