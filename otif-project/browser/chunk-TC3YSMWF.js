import{a as A}from"./chunk-7UVHNH5K.js";import{a as z}from"./chunk-Z2JIHJKC.js";import"./chunk-RUNL3XBD.js";import"./chunk-JCJIXIGU.js";import"./chunk-ODOJOCJF.js";import{e as M}from"./chunk-YLFRZMSI.js";import"./chunk-SG3IG2V7.js";import{h as R,i as V,j as B,m as D}from"./chunk-XNJB6KBV.js";import{b as N,c as $,d as P}from"./chunk-SQ36XKR5.js";import{$a as s,Ba as E,Cb as k,Ea as o,Eb as O,Fa as h,Fb as d,Gb as u,Va as f,Xa as c,Y as T,_ as y,_a as F,ab as l,bb as p,cb as C,db as b,eb as S,ia as x,ib as g,ja as w,jb as v,qb as m,rb as _,sb as I,tb as U,ub as H,zb as j}from"./chunk-PZVZLHCQ.js";import"./chunk-ODN5LVDJ.js";var L=(e,n)=>({"w-96 space-y-8":e,"w-22 space-y-24":n}),q=(e,n)=>({block:e,hidden:n}),G=(e,n,r,t)=>({"bg-red-700":e,"text-white":n,"w-82":r,"w-11":t});function K(e,n){if(e&1&&(s(0,"span",21),m(1),d(2,"translate"),l()),e&2){let r=v().$implicit;o(),_(u(2,1,r.label))}}function Q(e,n){if(e&1){let r=S();s(0,"li",18),g("click",function(){let a=x(r).$implicit,i=v();return w(a.route==="download"?i.downloadPdf():i.goto(a.route))}),p(1,"i",19),f(2,K,3,3,"span",20),l()}if(e&2){let r=n.$implicit,t=v();c("ngClass",O(4,G,t.activeRoute===r.route,t.activeRoute===r.route,!t.isCollapsed,t.isCollapsed)),o(),F(r.icon),o(),c("ngIf",!t.isCollapsed)}}function W(e,n){e&1&&(C(0),p(1,"i",22),m(2),d(3,"translate"),b()),e&2&&(o(2),I(" ",u(3,1,"home-user.logout")," "))}function X(e,n){e&1&&(C(0),p(1,"i",23),b())}function Y(e,n){if(e&1){let r=S();s(0,"div",24),g("click",function(){let a=x(r).$implicit,i=v();return w(i.goToDetail(a.id))}),p(1,"img",25),s(2,"div",26)(3,"button",27),m(4),l(),s(5,"p",28),m(6),l()()()}if(e&2){let r=n.$implicit;o(),c("src","../../../assets/"+r.image,E),o(3),U("",r.first_name," ",r.last_name,""),o(2),_(r.poste)}}var ce=(()=>{let n=class n{constructor(t,a,i){this.router=t,this.userService=a,this.appointmentService=i,this.intervenants=[],this.translate=T(N),this.isCollapsed=!1,this.activeRoute="",this.menuItems=[{label:"home-user.intervenants",route:"homeuser",icon:"fas fa-users"},{label:"home-user.participants",route:"participants",icon:"fas fa-users"},{label:"home-user.my-appointments",route:"mes-rendez-vous",icon:"fas fa-calendar-alt"},{label:"home-user.appointment-management",route:"/dashboard/gestion-rv",icon:"fas fa-database"},{label:"home-user.calendar-management",route:"calandar",icon:"fas fa-calendar-check"},{label:"home-user.download",route:"download",icon:"fa fa-arrow-circle-down"}]}ngOnInit(){this.translate.setDefaultLang("fr"),this.userService.getIntervenants().subscribe(a=>{this.intervenants=a.filter(i=>i.role==="Intervenant"&&i.id!=this.user.id),console.log("Intervenants:",this.intervenants)},a=>{console.error("Error fetching intervenants",a)});let t=localStorage.getItem("userToken");t?(this.user=JSON.parse(t),console.log(this.user)):console.error("No user token found in localStorage")}translateText(t){this.translate.use(t)}logout(){localStorage.removeItem("userToken"),window.location.href="/login"}goToIntervenant(){window.location.href="/homeuser"}goToParticipants(){window.location.href="/participants"}goToDetail(t){this.router.navigate(["/intervenant",t])}goToRdv(){this.router.navigate(["/mes-rendez-vous"])}gestionRdv(){this.router.navigate(["/dashboard/gestion-rv"])}goTocandar(){this.router.navigate(["/calandar"])}downloadPdf(){let t="123";this.appointmentService.downloadCalendar(this.user.id)}goto(t){this.router.navigate([t])}toggleSidebar(){this.isCollapsed=!this.isCollapsed}};n.\u0275fac=function(a){return new(a||n)(h(M),h(A),h(z))},n.\u0275cmp=y({type:n,selectors:[["app-home-user"]],standalone:!0,features:[j],decls:26,vars:23,consts:[[1,"flex","font-poppins"],[1,"bg-red-900","text-white","rounded-xl","flex","flex-col","py-4","mx-2","mt-4","mb-4",3,"ngClass"],[1,"px-4"],[1,"focus:outline-none","pl-2",3,"click"],[1,"fas","fa-bars"],[1,"p-4","text-center",3,"ngClass"],[1,"text-xl","font-semibold"],[1,"flex-1","ml-4","space-y-4","overflow-auto"],["class","h-12 p-2 flex items-center cursor-pointer hover:bg-red-700",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-white","text-red-900","p-2","rounded","mt-auto","mx-4","flex","items-center","justify-center",3,"click"],[4,"ngIf"],[1,"w-4/5","px-6","flex-grow","overflow-auto","h-full","min-w-[300px]"],[1,"text-3xl","font-bold","text-red-900","mb-8"],[1,"font-poppins","bg-gray-200","rounded-lg","p-6"],[1,"text-3xl","ml-12","font-bold","mb-4"],[1,"block","w-12","h-1","bg-red-800","mt-1"],[1,"w-full","flex","flex-wrap","justify-center"],["class","relative bg-white rounded-lg shadow-lg w-72 m-4 text-center overflow-hidden group transition-transform transform hover:scale-105",3,"click",4,"ngFor","ngForOf"],[1,"h-12","p-2","flex","items-center","cursor-pointer","hover:bg-red-700",3,"click","ngClass"],[1,"mr-2"],["class","text-xs sm:text-lg font-light",4,"ngIf"],[1,"text-xs","sm:text-lg","font-light"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"fas","fa-sign-out-alt"],[1,"relative","bg-white","rounded-lg","shadow-lg","w-72","m-4","text-center","overflow-hidden","group","transition-transform","transform","hover:scale-105",3,"click"],[1,"w-full","h-80","object-cover",3,"src"],[1,"p-4"],[1,"text-lg","font-semibold"],[1,"text-lg","text-red-900","font-bold","mb-4"]],template:function(a,i){a&1&&(s(0,"div",0)(1,"aside",1)(2,"div",2)(3,"button",3),g("click",function(){return i.toggleSidebar()}),p(4,"i",4),l()(),s(5,"div",5)(6,"p",6),m(7),d(8,"translate"),l()(),s(9,"ul",7),f(10,Q,3,9,"li",8),l(),s(11,"button",9),g("click",function(){return i.logout()}),f(12,W,4,3,"ng-container",10)(13,X,2,0,"ng-container",10),l()(),s(14,"main",11)(15,"h1",12),m(16),d(17,"translate"),l(),s(18,"div",13)(19,"div")(20,"h2",14),m(21),d(22,"translate"),p(23,"span",15),l()(),s(24,"div",16),f(25,Y,7,4,"div",17),l()()()()),a&2&&(o(),c("ngClass",k(17,L,!i.isCollapsed,i.isCollapsed)),o(4),c("ngClass",k(20,q,!i.isCollapsed,i.isCollapsed)),o(2),H(" ",u(8,11,"home-user.hello")," ",i.user.first_name," ",i.user.last_name," "),o(3),c("ngForOf",i.menuItems),o(2),c("ngIf",!i.isCollapsed),o(),c("ngIf",i.isCollapsed),o(3),_(u(17,13,"home-user.speaker-list")),o(5),I(" ",u(22,15,"home-user.meet-our-speakers")," "),o(4),c("ngForOf",i.intervenants))},dependencies:[D,R,V,B,P,$]});let e=n;return e})();export{ce as HomeUserComponent};
