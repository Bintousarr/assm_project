import{a as pe,b as ce,c as me,d as de}from"./chunk-YDDELZ5T.js";import{a as Y,b as Q,c as x,d as J,e as Z,h as $,i as W,k as X,l as ee,m as te,n as ie,o as ae,p as ne,q as re,r as oe,t as le,u as se,v as ue}from"./chunk-WUVU5367.js";import"./chunk-ICTHBN6B.js";import{c as z,e as H}from"./chunk-YLFRZMSI.js";import{b as U}from"./chunk-SG3IG2V7.js";import{i as V,j as k,l as j,m as M}from"./chunk-XNJB6KBV.js";import{b as _,c as K,d as L}from"./chunk-SQ36XKR5.js";import{$a as i,Ea as t,Fa as g,Fb as p,Gb as c,Ib as O,Jb as G,Va as y,Xa as f,Y as C,_ as A,ab as a,bb as h,cb as R,db as q,eb as D,ia as w,ib as I,ja as F,jb as S,kb as v,pb as P,qb as r,rb as N,sb as m,zb as T}from"./chunk-PZVZLHCQ.js";import"./chunk-ODN5LVDJ.js";function ye(s,l){if(s&1&&(R(0),i(1,"h2",6),r(2),i(3,"span",7),r(4,"\u2705"),a()(),q()),s&2){let d=S();t(2),m("",d.currentLang==="en"?"The quote is successfully generated":"Le devis est g\xE9n\xE9r\xE9 avec succ\xE8s"," ")}}function Se(s,l){if(s&1&&(i(0,"h2",6),r(1),i(2,"span",8),r(3,"\u274C"),a()()),s&2){let d=S();t(),m(" ",d.currentLang==="en"?"Error":"Erreur"," ")}}var ge=(()=>{let l=class l{constructor(n,e,o){this.dialogRef=n,this.data=e,this.router=o,this.translate=C(_),this.currentLang=this.translate.currentLang||"en",this.isSuccess=e.isSuccess,this.apiMessage=e.message}onOkClick(){console.log(this.apiMessage),this.apiMessage=="User created successfully."||this.apiMessage=="Utilisateur cr\xE9\xE9 et disponibilit\xE9s d\xE9finies avec succ\xE8s."||this.apiMessage=="User registered successfully"||this.apiMessage=="Veuillez retrouver votre devis dans votre bo\xEEte mail."||this.apiMessage=="Please find your quote in your email inbox."?(this.dialogRef.close(),this.router.navigate(["/"])):this.dialogRef.close()}};l.\u0275fac=function(e){return new(e||l)(g(pe),g(ce),g(H))},l.\u0275cmp=A({type:l,selectors:[["app-quote-success-dialog"]],standalone:!0,features:[T],decls:9,vars:3,consts:[["errorMessage",""],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","shadow-lg","p-6","max-w-xs","w-full","text-center"],[4,"ngIf","ngIfElse"],[1,"text-gray-600","mb-6"],[1,"bg-blue-500","text-white","py-2","px-4","rounded-lg","hover:bg-blue-600","focus:outline-none","focus:ring-2","focus:ring-blue-400",3,"click"],[1,"text-xl","font-semibold","text-gray-800","mb-4"],[1,"text-green-600","ml-2"],[1,"text-red-600","ml-2"]],template:function(e,o){if(e&1){let u=D();i(0,"div",1)(1,"div",2),y(2,ye,5,1,"ng-container",3)(3,Se,4,1,"ng-template",null,0,G),i(5,"p",4),r(6),a(),i(7,"button",5),I("click",function(){return w(u),F(o.onOkClick())}),r(8," OK "),a()()()}if(e&2){let u=P(4);t(2),f("ngIf",o.isSuccess)("ngIfElse",u),t(4),m(" ",o.apiMessage," ")}},dependencies:[M,k,L]});let s=l;return s})();function Ee(s,l){if(s&1&&(i(0,"div",25)(1,"div",26),h(2,"input",27),i(3,"label",28),r(4),p(5,"translate"),i(6,"strong"),r(7),a()()(),i(8,"div",29)(9,"label",30),r(10),p(11,"translate"),a(),h(12,"input",31),a()()),s&2){let d,n=l.$implicit,e=l.index,o=S();f("formGroupName",e),t(4),m(" ",c(5,5,n.name)," - "),t(3),m("",n.price," $"),t(3),N(c(11,7,"QUANTITY_LABEL")),t(2),f("disabled",!(!((d=o.paymentForm.get("products"))==null||(d=d.get(e+".selected"))==null)&&d.value))}}function Ce(s,l){if(s&1&&(i(0,"option",32),r(1),a()),s&2){let d=l.$implicit;f("value",d),t(),N(d)}}var ke=(()=>{let l=class l{constructor(n,e,o,u){this.fb=n,this.route=e,this.http=o,this.dialog=u,this.translate=C(_),this.products=[{name:"STARTUP",price:1e3,quantity:1},{name:"SILVER-PACK",price:6e3,quantity:1},{name:"GOLD-PACK",price:12e3,quantity:1},{name:"PLATINIUM",price:23e3,quantity:1},{name:"HEADLINE SPONSOR",price:5e4,quantity:1}],this.total=0,this.countries=["Afghanistan","Afrique du Sud","Albanie","Alg\xE9rie","Allemagne","Andorre","Angola","Antigua-et-Barbuda","Arabie saoudite","Argentine","Arm\xE9nie","Australie","Autriche","Azerba\xEFdjan","Bahamas","Bahre\xEFn","Bangladesh","Barbade","Belgique","Belize","B\xE9nin","Bhoutan","Bi\xE9lorussie","Birmanie","Bolivie","Bosnie-Herz\xE9govine","Botswana","Br\xE9sil","Brunei","Bulgarie","Burkina Faso","Burundi","Cabo Verde","Cambodge","Cameroun","Canada","Centrafrique","Chili","Chine","Chypre","Colombie","Comores","Congo","Congo (RDC)","Cor\xE9e du Nord","Cor\xE9e du Sud","Costa Rica","C\xF4te d\u2019Ivoire","Croatie","Cuba","Danemark","Djibouti","Dominique","\xC9gypte","\xC9mirats arabes unis","\xC9quateur","\xC9rythr\xE9e","Espagne","Estonie","Eswatini","\xC9tats-Unis","\xC9thiopie","Fidji","Finlande","France","Gabon","Gambie","G\xE9orgie","Ghana","Gr\xE8ce","Grenade","Guatemala","Guin\xE9e","Guin\xE9e \xE9quatoriale","Guin\xE9e-Bissau","Guyana","Ha\xEFti","Honduras","Hongrie","\xCEles Marshall","\xCEles Salomon","Inde","Indon\xE9sie","Irak","Iran","Irlande","Islande","Isra\xEBl","Italie","Jama\xEFque","Japon","Jordanie","Kazakhstan","Kenya","Kirghizistan","Kiribati","Kowe\xEFt","Laos","Lesotho","Lettonie","Liban","Liberia","Libye","Liechtenstein","Lituanie","Luxembourg","Mac\xE9doine du Nord","Madagascar","Malaisie","Malawi","Maldives","Mali","Malte","Maroc","Maurice","Mauritanie","Mexique","Micron\xE9sie","Moldavie","Monaco","Mongolie","Mont\xE9n\xE9gro","Mozambique","Namibie","Nauru","N\xE9pal","Nicaragua","Niger","Nigeria","Norv\xE8ge","Nouvelle-Z\xE9lande","Oman","Ouganda","Ouzb\xE9kistan","Pakistan","Palaos","Palestine","Panama","Papouasie-Nouvelle-Guin\xE9e","Paraguay","Pays-Bas","P\xE9rou","Philippines","Pologne","Portugal","Qatar","Roumanie","Royaume-Uni","Russie","Rwanda","Saint-Christophe-et-Ni\xE9v\xE8s","Sainte-Lucie","Saint-Marin","Saint-Vincent-et-les-Grenadines","Salvador","Samoa","S\xE3o Tom\xE9-et-Principe","S\xE9n\xE9gal","Serbie","Seychelles","Sierra Leone","Singapour","Slovaquie","Slov\xE9nie","Somalie","Soudan","Soudan du Sud","Sri Lanka","Su\xE8de","Suisse","Suriname","Syrie","Tadjikistan","Tanzanie","Tchad","R\xE9publique Tch\xE8que","Tha\xEFlande","Timor oriental","Togo","Tonga","Trinit\xE9-et-Tobago","Tunisie","Turkm\xE9nistan","Turquie","Tuvalu","Ukraine","Uruguay","Vanuatu","Vatican","Venezuela","Vi\xEAt Nam","Y\xE9men","Zambie","Zimbabwe"],this.paymentForm=this.fb.group({products:this.fb.array([]),firstName:["",x.required],lastName:["",x.required],email:["",[x.required,x.email]],companyName:[""],country:["",x.required]})}ngOnInit(){localStorage.removeItem("userToken"),console.log("dsssdddddsssss");let n=this.paymentForm.get("products");this.products.forEach(()=>{n.push(this.fb.group({selected:[!1],quantity:[1,[x.required,x.min(1)]]}))});let e=Number(this.route.snapshot.queryParamMap.get("productIndex"));!isNaN(e)&&e>=0&&e<this.products.length&&(n.at(e).get("selected")?.setValue(!0),this.calculateTotal()),this.paymentForm.valueChanges.subscribe(()=>this.calculateTotal())}initFormArray(){let n=this.paymentForm.get("products");this.products.forEach(()=>n.push(this.fb.control(!1)))}preSelectProduct(n){this.paymentForm.get("products").at(n).setValue(!0),this.calculateTotal()}calculateTotal(){let n=this.paymentForm.get("products");this.total=n.controls.reduce((e,o,u)=>{let b=o,E=b.get("selected")?.value,B=b.get("quantity")?.value||0;return e+(E?this.products[u].price*B:0)},0)}onSubmit(){if(this.paymentForm.valid){let n=this.paymentForm.get("products"),e=this.products.map((u,b)=>{let E=n.at(b),B=E.get("selected")?.value,fe=E.get("quantity")?.value||1;return B?{name:u.name,unitPrice:u.price,quantity:fe}:null}).filter(u=>u!==null);console.log(e);let o={firstName:this.paymentForm.value.firstName,lastName:this.paymentForm.value.lastName,email:this.paymentForm.value.email,selectedProducts:e,totalPrice:this.total,entreprisename:this.paymentForm.value.companyName,country:this.paymentForm.value.country};this.translate.currentLang=="en"?this.http.post("https://mass.otif-africa-space.com/devis/generateDevisAndSendEmailEnglish.php",o).subscribe(u=>{this.openDialog("Please find your quote in your email inbox.",!0)},u=>{console.error("Erreur lors de l'envoi de l'email :",u),this.openDialog("An error occurred while sending the quote.",!1)}):this.http.post("https://mass.otif-africa-space.com/devis/generateDevisAndSendEmail.php",o).subscribe(u=>{this.openDialog("Veuillez retrouver votre devis dans votre bo\xEEte mail.",!0)},u=>{console.error("Erreur lors de l'envoi de l'email :",u),this.openDialog("Une erreur s'est produite lors de l'envoi du devis.",!1)})}else this.openDialog("Veuillez remplir tous les champs obligatoires.",!1)}translateText(n){this.translate.use(n),console.log("dsssdddddsssss")}openDialog(n,e){this.dialog.open(ge,{data:{message:n,isSuccess:e}})}};l.\u0275fac=function(e){return new(e||l)(g(le),g(z),g(U),g(me))},l.\u0275cmp=A({type:l,selectors:[["app-inscription"]],standalone:!0,features:[T],decls:59,vars:53,consts:[[1,"bg-red-800","font-poppins","leading-normal","tracking-normal"],[1,"p-4","flex","flex-col","lg:flex-row","justify-center","items-center","lg:space-x-6"],[1,"p-4","mb-6","max-w-full","w-[95%]","lg:w-[700px]","mx-auto","bg-white","rounded-lg","shadow-xl"],[1,"text-2xl","lg:text-3xl","font-bold","text-center","text-gray-900","mb-6"],[1,"text-base","lg:text-lg","text-center","text-gray-600","mb-8"],[3,"ngSubmit","formGroup"],["formArrayName","products",1,"mb-8"],[1,"block","text-lg","lg:text-xl","font-medium","text-gray-800","mb-3"],["class","flex flex-row items-center mb-4 justify-between ",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mt-6","mb-8"],[1,"text-lg","lg:text-xl","font-medium","text-gray-700"],[1,"text-lg","lg:text-xl","font-semibold","text-blue-600"],[1,"mb-8"],[1,"flex","flex-col","lg:flex-row","space-y-4","lg:space-y-0","lg:space-x-6"],["type","text","formControlName","firstName",1,"border","p-3","w-full","rounded-lg","focus:ring-2","focus:ring-blue-300",3,"placeholder"],["type","text","formControlName","lastName",1,"border","p-3","w-full","rounded-lg","focus:ring-2","focus:ring-blue-300",3,"placeholder"],["type","text","formControlName","companyName",1,"border","p-3","w-full","rounded-lg","focus:ring-2","focus:ring-blue-300",3,"placeholder"],["type","email","formControlName","email",1,"border","p-3","w-full","rounded-lg","focus:ring-2","focus:ring-blue-300",3,"placeholder"],["formControlName","country",1,"border","p-3","w-full","rounded-lg","focus:ring-2","focus:ring-blue-300"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-center","mt-8"],["type","submit",1,"w-full","lg:w-auto","bg-blue-600","text-white","py-3","px-6","rounded-lg","text-lg","lg:text-xl","hover:bg-blue-700","transition","duration-300"],[1,"p-6","rounded-lg","max-w-full","w-[95%]","lg:w-auto","lg:order-none","order-first"],["src","../../assets/3ea0029d8c.jpeg",1,"w-full","lg:w-auto","h-48","lg:h-auto","object-cover","rounded-lg",3,"alt"],[1,"flex","flex-row","items-center","mb-4","justify-between",3,"formGroupName"],[1,"flex","items-center","md:w-2/3"],["type","checkbox","formControlName","selected",1,"mr-4","h-5","w-5","accent-blue-500"],[1,"text-xs","md:text-sm","lg:text-lg"],[1,"flex","items-center","md:w-1/3"],[1,"mr-2","text-gray-600","text-xs","md:text-sm","lg:text-lg"],["type","number","formControlName","quantity","min","1",1,"w-20","border","p-2","rounded",3,"disabled"],[3,"value"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),r(4),p(5,"translate"),a(),i(6,"p",4),r(7),p(8,"translate"),a(),i(9,"form",5),I("ngSubmit",function(){return o.onSubmit()}),i(10,"div",6)(11,"label",7),r(12),p(13,"translate"),a(),y(14,Ee,13,9,"div",8),a(),i(15,"div",9)(16,"label",10),r(17),p(18,"translate"),a(),i(19,"span",11),r(20),p(21,"currency"),a()(),i(22,"div",12)(23,"label",7),r(24),p(25,"translate"),a(),i(26,"div",13),h(27,"input",14),p(28,"translate"),h(29,"input",15),p(30,"translate"),a()(),i(31,"div",12)(32,"label",7),r(33),p(34,"translate"),a(),h(35,"input",16),p(36,"translate"),a(),i(37,"div",12)(38,"label",7),r(39),p(40,"translate"),a(),h(41,"input",17),p(42,"translate"),a(),i(43,"div",12)(44,"label",7),r(45),p(46,"translate"),a(),i(47,"select",18)(48,"option",19),r(49),p(50,"translate"),a(),y(51,Ce,2,2,"option",20),a()(),i(52,"div",21)(53,"button",22),r(54),p(55,"translate"),a()()()(),i(56,"div",23),h(57,"img",24),p(58,"translate"),a()()()),e&2&&(t(4),m(" ",c(5,19,"RESERVATION_FORM_TITLE")," "),t(3),m(" ",c(8,21,"RESERVATION_FORM_SUBTITLE")," "),t(2),f("formGroup",o.paymentForm),t(3),m(" ",c(13,23,"PRICE_PACKAGE_LABEL")," "),t(2),f("ngForOf",o.products),t(3),m(" ",c(18,25,"TOTAL_LABEL")," "),t(3),m(" ",O(21,27,o.total,"USD","symbol")," "),t(4),m(" ",c(25,31,"BUYER_NAME_LABEL")," "),t(3),v("placeholder",c(28,33,"FIRST_NAME_PLACEHOLDER")),t(2),v("placeholder",c(30,35,"LAST_NAME_PLACEHOLDER")),t(4),m(" ",c(34,37,"COMPANY_NAME_LABEL")," "),t(2),v("placeholder",c(36,39,"COMPANY_NAME_PLACEHOLDER")),t(4),m(" ",c(40,41,"BUYER_EMAIL_LABEL")," "),t(2),v("placeholder",c(42,43,"EMAIL_PLACEHOLDER")),t(4),m(" ",c(46,45,"BUYER_COUNTRY_LABEL")," "),t(4),N(c(50,47,"SELECT_COUNTRY_PLACEHOLDER")),t(2),f("ngForOf",o.countries),t(3),m(" ",c(55,49,"SUBMIT_BUTTON")," "),t(3),v("alt",c(58,51,"ILLUSTRATION_ALT")))},dependencies:[M,V,j,se,$,ne,re,Q,W,Y,ae,J,Z,oe,L,K,ue,X,ie,ee,te,de]});let s=l;return s})();export{ke as InscriptionComponent};
