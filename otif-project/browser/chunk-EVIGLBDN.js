import{a as L}from"./chunk-NHS2BW3J.js";import{a as z}from"./chunk-Z2JIHJKC.js";import"./chunk-RUNL3XBD.js";import"./chunk-JCJIXIGU.js";import"./chunk-ODOJOCJF.js";import{e as P}from"./chunk-YLFRZMSI.js";import"./chunk-SG3IG2V7.js";import{h as O,i as R,j as M,m as N}from"./chunk-XNJB6KBV.js";import{b as j,c as D,d as V}from"./chunk-SQ36XKR5.js";import{$a as a,Cb as S,Ea as n,Eb as x,Fa as b,Fb as l,Gb as m,Va as g,Xa as p,Y as w,_ as T,_a as F,ab as o,bb as h,cb as C,db as y,eb as B,ia as U,ib as v,ja as k,jb as f,qb as s,rb as c,sb as E,tb as I,ub as A,zb as $}from"./chunk-PZVZLHCQ.js";import"./chunk-ODN5LVDJ.js";var q=(t,i)=>({"w-96 space-y-8":t,"w-22 space-y-24":i}),G=(t,i)=>({block:t,hidden:i}),H=(t,i,e,r)=>({"bg-red-700":t,"text-white":i,"w-82":e,"w-11":r}),_=(t,i,e,r)=>({"bg-blue-100 text-blue-700":t,"bg-yellow-100 text-yellow-700":i,"bg-green-100 text-green-700":e,"bg-red-100 text-red-700":r});function K(t,i){if(t&1&&(a(0,"span",23),s(1),l(2,"translate"),o()),t&2){let e=f().$implicit;n(),c(m(2,1,e.label))}}function Q(t,i){if(t&1){let e=B();a(0,"li",20),v("click",function(){let u=U(e).$implicit,d=f();return k(u.route==="download"?d.downloadPdf():d.goto(u.route))}),h(1,"i",21),g(2,K,3,3,"span",22),o()}if(t&2){let e=i.$implicit,r=f();p("ngClass",x(4,H,r.activeRoute===e.route,r.activeRoute===e.route,!r.isCollapsed,r.isCollapsed)),n(),F(e.icon),n(),p("ngIf",!r.isCollapsed)}}function W(t,i){t&1&&(C(0),h(1,"i",24),s(2),l(3,"translate"),y()),t&2&&(n(2),E(" ",m(3,1,"home-user.logout")," "))}function X(t,i){t&1&&(C(0),h(1,"i",25),y())}function Y(t,i){if(t&1&&(a(0,"span",30),s(1),l(2,"translate"),o()),t&2){let e=f().$implicit;p("ngClass",x(4,_,e.status==="libre",e.status==="en attente",e.status==="approuv\xE9",e.status==="d\xE9clin\xE9")),n(),c(m(2,2,"intervenant-detail.availability.free"))}}function Z(t,i){if(t&1&&(a(0,"span",30),s(1),l(2,"translate"),o()),t&2){let e=f().$implicit;p("ngClass",x(4,_,e.status==="libre",e.status==="en attente",e.status==="approuv\xE9",e.status==="d\xE9clin\xE9")),n(),c(m(2,2,"intervenant-detail.availability.pending"))}}function ee(t,i){if(t&1&&(a(0,"span",30),s(1),l(2,"translate"),o()),t&2){let e=f().$implicit;p("ngClass",x(4,_,e.status==="libre",e.status==="en attente",e.status==="approuv\xE9",e.status==="d\xE9clin\xE9")),n(),c(m(2,2,"intervenant-detail.availability.approved"))}}function te(t,i){if(t&1&&(a(0,"span",30),s(1),l(2,"translate"),o()),t&2){let e=f().$implicit;p("ngClass",x(4,_,e.status==="libre",e.status==="en attente",e.status==="approuv\xE9",e.status==="d\xE9clin\xE9")),n(),c(m(2,2,"intervenant-detail.availability.declined"))}}function ne(t,i){if(t&1&&(a(0,"tr",26)(1,"td",27),s(2),l(3,"dateFormat"),o(),a(4,"td",27),s(5),o(),a(6,"td",27),s(7),o(),a(8,"td",27),s(9),o(),a(10,"td",28),g(11,Y,3,9,"span",29)(12,Z,3,9,"span",29)(13,ee,3,9,"span",29)(14,te,3,9,"span",29),o()()),t&2){let e=i.$implicit;n(2),c(m(3,10,e.appointment_date)),n(3),I("",e.start_time," - ",e.end_time,""),n(2),I("",e.speaker_first_name," ",e.speaker_last_name,""),n(2),E("",e.theme," "),n(2),p("ngIf",e.status==="libre"),n(),p("ngIf",e.status==="en attente"),n(),p("ngIf",e.status==="approuv\xE9"),n(),p("ngIf",e.status==="d\xE9clin\xE9")}}var ue=(()=>{let i=class i{constructor(r,u){this.appointmentService=r,this.router=u,this.appointments=[],this.translate=w(j),this.isCollapsed=!1,this.activeRoute="",this.menuItems=[{label:"home-user.intervenants",route:"homeuser",icon:"fas fa-users"},{label:"home-user.participants",route:"participants",icon:"fas fa-users"},{label:"home-user.my-appointments",route:"mes-rendez-vous",icon:"fas fa-calendar-alt"},{label:"home-user.appointment-management",route:"/dashboard/gestion-rv",icon:"fas fa-database"},{label:"home-user.calendar-management",route:"calandar",icon:"fas fa-calendar-check"},{label:"home-user.download",route:"download",icon:"fa fa-arrow-circle-down"}]}ngOnInit(){this.translate.setDefaultLang("fr");let r=localStorage.getItem("userToken");r?this.storedUser=JSON.parse(r):console.error("No user token found in localStorage"),this.storedUser&&this.appointmentService.getAppointmentsByUser(this.storedUser.id).subscribe(u=>{this.appointments=u,console.log("User appointments:",this.appointments)},u=>{console.error("Error fetching user appointments",u)})}goToRdv(){this.router.navigate(["/mes-rendez-vous"])}translateText(r){this.translate.use(r)}goToIntervenant(){window.location.href="/homeuser"}logout(){localStorage.removeItem("userToken"),window.location.href="/login"}goToParticipants(){window.location.href="/participants"}goTocandar(){this.router.navigate(["/calandar"])}downloadPdf(){let r="123";console.log(this.storedUser),this.appointmentService.downloadCalendar(this.storedUser.id)}goto(r){this.router.navigate([r])}toggleSidebar(){this.isCollapsed=!this.isCollapsed}};i.\u0275fac=function(u){return new(u||i)(b(z),b(P))},i.\u0275cmp=T({type:i,selectors:[["app-user-appointments"]],standalone:!0,features:[$],decls:43,vars:38,consts:[[1,"flex","font-poppins","min-h-screen"],[1,"bg-red-900","text-white","rounded-xl","flex","flex-col","py-4","h-full","mx-2","mt-4","mb-4",3,"ngClass"],[1,"px-4"],[1,"focus:outline-none","pl-2",3,"click"],[1,"fas","fa-bars"],[1,"p-4","text-center",3,"ngClass"],[1,"text-xl","font-semibold"],[1,"flex-1","ml-4","space-y-4","overflow-auto"],["class","h-12 p-2 flex items-center cursor-pointer hover:bg-red-700",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-white","text-red-900","p-2","rounded","mt-auto","mx-4","flex","items-center","justify-center",3,"click"],[4,"ngIf"],[1,"w-4/5","px-6","flex-grow"],[1,"text-3xl","font-bold","text-red-900","mb-8"],[1,"container","mx-auto","p-8","bg-gray-200","rounded-lg","shadow-lg"],[1,"text-3xl","font-extrabold","mb-8","text-center","text-gray-800"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"bg-red-800","text-white"],[1,"py-3","px-4","text-center","font-light"],["class","hover:bg-gray-100",4,"ngFor","ngForOf"],[1,"h-12","p-2","flex","items-center","cursor-pointer","hover:bg-red-700",3,"click","ngClass"],[1,"mr-2"],["class","text-xs sm:text-lg font-light",4,"ngIf"],[1,"text-xs","sm:text-lg","font-light"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"fas","fa-sign-out-alt"],[1,"hover:bg-gray-100"],[1,"border","px-4","py-4","text-center","text-gray-700"],[1,"border","px-4","py-4","text-center"],["class","py-2 px-4 rounded-full text-sm font-semibold",3,"ngClass",4,"ngIf"],[1,"py-2","px-4","rounded-full","text-sm","font-semibold",3,"ngClass"]],template:function(u,d){u&1&&(a(0,"div",0)(1,"aside",1)(2,"div",2)(3,"button",3),v("click",function(){return d.toggleSidebar()}),h(4,"i",4),o()(),a(5,"div",5)(6,"p",6),s(7),l(8,"translate"),o()(),a(9,"ul",7),g(10,Q,3,9,"li",8),o(),a(11,"button",9),v("click",function(){return d.logout()}),g(12,W,4,3,"ng-container",10)(13,X,2,0,"ng-container",10),o()(),a(14,"main",11)(15,"h1",12),s(16),l(17,"translate"),o(),a(18,"div",13)(19,"h2",14),s(20),l(21,"translate"),o(),a(22,"div",15)(23,"table",16)(24,"thead",17)(25,"tr")(26,"th",18),s(27),l(28,"translate"),o(),a(29,"th",18),s(30),l(31,"translate"),o(),a(32,"th",18),s(33),l(34,"translate"),o(),a(35,"th",18),s(36),l(37,"translate"),o(),a(38,"th",18),s(39),l(40,"translate"),o()()(),a(41,"tbody"),g(42,ne,15,12,"tr",19),o()()()()()()),u&2&&(n(),p("ngClass",S(32,q,!d.isCollapsed,d.isCollapsed)),n(4),p("ngClass",S(35,G,!d.isCollapsed,d.isCollapsed)),n(2),A(" ",m(8,16,"home-user.hello")," ",d.storedUser.first_name," ",d.storedUser.last_name," "),n(3),p("ngForOf",d.menuItems),n(2),p("ngIf",!d.isCollapsed),n(),p("ngIf",d.isCollapsed),n(3),c(m(17,18,"home-user.my-appointments")),n(4),c(m(21,20,"home-user.my-appointments")),n(7),c(m(28,22,"home-user.day")),n(3),c(m(31,24,"home-user.horaire")),n(3),c(m(34,26,"home-user.speak")),n(3),c(m(37,28,"home-user.theme")),n(3),c(m(40,30,"home-user.statut")),n(3),p("ngForOf",d.appointments))},dependencies:[N,O,R,M,L,V,D]});let t=i;return t})();export{ue as UserAppointmentsComponent};
