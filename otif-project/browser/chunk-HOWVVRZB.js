import{a as J}from"./chunk-NHS2BW3J.js";import{a as H}from"./chunk-Z2JIHJKC.js";import"./chunk-HDQXEEFV.js";import"./chunk-RUNL3XBD.js";import"./chunk-JCJIXIGU.js";import"./chunk-ODOJOCJF.js";import"./chunk-WUVU5367.js";import{e as N}from"./chunk-YLFRZMSI.js";import"./chunk-SG3IG2V7.js";import{h as j,i as D,j as z,m as L}from"./chunk-XNJB6KBV.js";import{b as q,c as $,d as A}from"./chunk-SQ36XKR5.js";import{$a as o,Bb as w,Cb as k,Db as R,Ea as n,Eb as M,Fa as S,Fb as m,Gb as u,Va as h,Xa as p,Y as G,_ as F,_a as B,ab as r,bb as _,cb as E,db as T,eb as b,ia as f,ib as v,ja as x,jb as g,ka as C,la as I,qb as l,rb as d,sb as y,ub as P,zb as O}from"./chunk-PZVZLHCQ.js";import"./chunk-ODN5LVDJ.js";var K=(t,s)=>({"w-96 space-y-8":t,"w-22 space-y-24":s}),Q=(t,s)=>({block:t,hidden:s}),W=(t,s,e,i)=>({"bg-red-700":t,"text-white":s,"w-82":e,"w-11":i}),X=(t,s,e)=>({"bg-green-100":t,"bg-red-100":s,"bg-white":e}),Y=(t,s,e)=>({"bg-green-100 text-green-800":t,"bg-red-100 text-red-800":s,"bg-gray-300 text-gray-800":e}),Z=t=>({"opacity-50 cursor-not-allowed":t}),V=t=>({"border-blue-500 text-blue-500":t});function ee(t,s){if(t&1&&(o(0,"span",23),l(1),m(2,"translate"),r()),t&2){let e=g().$implicit;n(),d(u(2,1,e.label))}}function te(t,s){if(t&1){let e=b();o(0,"li",20),v("click",function(){let a=f(e).$implicit,c=g();return x(a.route==="download"?c.downloadPdf():c.goto(a.route))}),_(1,"i",21),h(2,ee,3,3,"span",22),r()}if(t&2){let e=s.$implicit,i=g();p("ngClass",M(4,W,i.activeRoute===e.route,i.activeRoute===e.route,!i.isCollapsed,i.isCollapsed)),n(),B(e.icon),n(),p("ngIf",!i.isCollapsed)}}function ie(t,s){t&1&&(E(0),_(1,"i",24),l(2),m(3,"translate"),T()),t&2&&(n(2),y(" ",u(3,1,"home-user.logout")," "))}function ne(t,s){t&1&&(E(0),_(1,"i",25),T())}function oe(t,s){if(t&1){let e=b();o(0,"tr",26)(1,"td",27),l(2),r(),o(3,"td",28)(4,"span",29),l(5),r()(),o(6,"td",30),l(7),m(8,"dateFormat"),r(),o(9,"td",31)(10,"button",32),v("click",function(){let a=f(e).$implicit,c=g();return x(c.openPopup(a))}),_(11,"i",33),r()()()}if(t&2){let e=s.$implicit;p("ngClass",R(9,X,e.status=="approuv\xE9",e.status=="d\xE9clin\xE9",e.status==="en attente")),n(2),d(e.id),n(2),p("ngClass",R(13,Y,e.status=="approuv\xE9",e.status=="d\xE9clin\xE9",e.status==="en attente")),n(),d(e.status),n(2),d(u(8,7,e.date)),n(3),p("disabled",e.status==="approuv\xE9"||e.status==="d\xE9clin\xE9")("ngClass",w(17,Z,e.status==="approuv\xE9"||e.status==="d\xE9clin\xE9"))}}function re(t,s){if(t&1&&(o(0,"div")(1,"table",46)(2,"tr",47)(3,"td",48),l(4),m(5,"translate"),r(),o(6,"td",49),l(7),r()(),o(8,"tr",47)(9,"td",48),l(10),m(11,"translate"),r(),o(12,"td",49),l(13),r()()()()),t&2){let e=g(2);n(4),d(u(5,4,"register-block.register.nom")),n(3),d(e.selectedItem==null?null:e.selectedItem.participant.last_name),n(3),d(u(11,6,"register-block.register.prenom")),n(3),d(e.selectedItem==null?null:e.selectedItem.participant.first_name)}}function ae(t,s){if(t&1&&(o(0,"div")(1,"p",50),l(2),r()()),t&2){let e=g(2);n(2),d(e.selectedItem==null?null:e.selectedItem.theme)}}function se(t,s){if(t&1){let e=b();o(0,"div")(1,"div",51)(2,"button",52),v("click",function(){f(e);let a=g(2);return x(a.validateRequest())}),l(3),m(4,"translate"),C(),o(5,"svg",53),_(6,"path",54),r()(),I(),o(7,"button",55),v("click",function(){f(e);let a=g(2);return x(a.refuseRequest())}),l(8),m(9,"translate"),C(),o(10,"svg",53),_(11,"path",56),r()()()()}t&2&&(n(3),y(" ",u(4,2,"home-user.valider")," "),n(5),y(" ",u(9,4,"home-user.refus")," "))}function le(t,s){if(t&1){let e=b();o(0,"div",34)(1,"div",35)(2,"div",36)(3,"h2",37),l(4),m(5,"translate"),r(),o(6,"button",38),v("click",function(){f(e);let a=g();return x(a.closePopup())}),C(),o(7,"svg",39),_(8,"path",40),r()()(),I(),o(9,"div",41)(10,"ul",42)(11,"li",43)(12,"a",44),v("click",function(){f(e);let a=g();return x(a.selectTab("initiator"))}),l(13),m(14,"translate"),r()(),o(15,"li",43)(16,"a",44),v("click",function(){f(e);let a=g();return x(a.selectTab("reason"))}),l(17),m(18,"translate"),r()(),o(19,"li")(20,"a",44),v("click",function(){f(e);let a=g();return x(a.selectTab("treatment"))}),l(21),m(22,"translate"),r()()(),o(23,"div",45),h(24,re,14,8,"div",10)(25,ae,3,1,"div",10)(26,se,12,6,"div",10),r()()()()}if(t&2){let e=g();n(4),d(u(5,10,"home-user.detail")),n(8),p("ngClass",w(18,V,e.selectedTab==="initiator")),n(),d(u(14,12,"home-user.initiateur")),n(3),p("ngClass",w(20,V,e.selectedTab==="reason")),n(),d(u(18,14,"home-user.motif")),n(3),p("ngClass",w(22,V,e.selectedTab==="treatment")),n(),d(u(22,16,"home-user.traitement")),n(3),p("ngIf",e.selectedTab==="initiator"),n(),p("ngIf",e.selectedTab==="reason"),n(),p("ngIf",e.selectedTab==="treatment")}}var we=(()=>{let s=class s{constructor(i,a){this.router=i,this.apppointmentService=a,this.isDropdownOpen=!1,this.isPopupOpen=!1,this.translate=G(q),this.isCollapsed=!1,this.activeRoute="",this.menuItems=[{label:"home-user.intervenants",route:"homeuser",icon:"fas fa-users"},{label:"home-user.participants",route:"participants",icon:"fas fa-users"},{label:"home-user.my-appointments",route:"mes-rendez-vous",icon:"fas fa-calendar-alt"},{label:"home-user.appointment-management",route:"/dashboard/gestion-rv",icon:"fas fa-database"},{label:"home-user.calendar-management",route:"calandar",icon:"fas fa-calendar-check"},{label:"home-user.download",route:"download",icon:"fa fa-arrow-circle-down"}],this.selectedTab="initiator"}ngOnInit(){this.translate.setDefaultLang("fr");let i=localStorage.getItem("userToken");i?this.user=JSON.parse(i):console.error("No user token found in localStorage"),console.log(this.user),this.apppointmentService.getBySpeaker(this.user.id).subscribe(a=>{console.log("Intervenants:",a),this.intervants=a},a=>{console.error("Error fetching intervenants",a)})}translateText(i){this.translate.use(i)}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}openPopup(i){this.selectedItem=i,this.isPopupOpen=!0}closePopup(){this.isPopupOpen=!1,this.selectedItem=null,this.selectedTab="initiator"}validateRequest(){this.selectedItem&&(this.selectedItem.statut="Valid\xE9e",console.log("Request validated for item:",this.selectedItem)),this.apppointmentService.updateAppointmentStatus(this.selectedItem.id,"approuv\xE9").subscribe(i=>{console.log("Intervenants:",i),window.location.href="/dashboard/gestion-rv"},i=>{console.error("Error fetching intervenants",i)}),this.closePopup()}refuseRequest(){this.apppointmentService.updateAppointmentStatus(this.selectedItem.id,"d\xE9clin\xE9").subscribe(i=>{console.log("Intervenants:",i),window.location.href="/dashboard/gestion-rv"},i=>{console.error("Error fetching intervenants",i)}),this.closePopup()}selectTab(i){this.selectedTab=i}logout(){localStorage.removeItem("userToken"),window.location.href="/login"}goTobord(){window.location.href="/dashboard"}goToIntervenant(){window.location.href="/homeuser"}goToParticipants(){window.location.href="/participants"}goToDetail(i){this.router.navigate(["/intervenant",i])}goToRdv(){this.router.navigate(["/mes-rendez-vous"])}gestionRdv(){this.router.navigate(["/dashboard/gestion-rv"])}goTocandar(){this.router.navigate(["/calandar"])}downloadPdf(){let i="123";this.apppointmentService.downloadCalendar(this.user.id)}goto(i){this.router.navigate([i])}toggleSidebar(){this.isCollapsed=!this.isCollapsed}};s.\u0275fac=function(a){return new(a||s)(S(N),S(H))},s.\u0275cmp=F({type:s,selectors:[["app-gestion-rv"]],standalone:!0,features:[O],decls:36,vars:30,consts:[[1,"flex","font-poppins","min-h-screen"],[1,"bg-red-900","text-white","rounded-xl","flex","flex-col","py-4","mx-2","mt-4","mb-4",3,"ngClass"],[1,"px-4"],[1,"focus:outline-none","pl-2",3,"click"],[1,"fas","fa-bars"],[1,"p-4","text-center",3,"ngClass"],[1,"text-xl","font-semibold"],[1,"flex-1","ml-4","space-y-4","overflow-auto"],["class","h-12 p-2 flex items-center cursor-pointer hover:bg-red-700",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-white","text-red-900","p-2","rounded","mt-auto","mx-4","flex","items-center","justify-center",3,"click"],[4,"ngIf"],[1,"flex-1","p-6","bg-gray-100","rounded-lg","shadow-lg"],[1,"text-2xl","font-semibold","text-gray-700","mb-6","text-center"],[1,"overflow-x-auto","mt-4"],[1,"min-w-full","divide-y","divide-gray-200","bg-white","shadow-md","rounded-lg"],[1,"bg-red-900","text-white"],[1,"px-6","py-3","text-left","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[3,"ngClass",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",4,"ngIf"],[1,"h-12","p-2","flex","items-center","cursor-pointer","hover:bg-red-700",3,"click","ngClass"],[1,"mr-2"],["class","text-xs sm:text-lg font-light",4,"ngIf"],[1,"text-xs","sm:text-lg","font-light"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"fas","fa-sign-out-alt"],[3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-blue-600","hover:text-blue-900",3,"click","disabled","ngClass"],[1,"fas","fa-calendar-alt"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","justify-center","items-center","z-50","p-4"],[1,"bg-white","rounded-lg","shadow-lg","w-full","max-w-2xl"],[1,"flex","justify-between","items-center","border-b","px-6","py-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-500","hover:text-gray-700","focus:outline-none","focus:ring-2","focus:ring-gray-300","rounded-full","p-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-6","py-4"],[1,"flex","border-b"],[1,"mr-1"],[1,"bg-white","inline-block","py-2","px-4","text-gray-700","hover:text-blue-500","font-semibold","cursor-pointer","transition-colors","duration-300","border-transparent","border-b-2",3,"click","ngClass"],[1,"mt-4"],[1,"w-full","text-left"],[1,"border-b"],[1,"font-semibold","py-2"],[1,"py-2"],[1,"text-gray-700","leading-relaxed"],[1,"space-y-4"],[1,"flex","items-center","bg-green-100","text-green-700","px-4","py-2","rounded-md","w-full","justify-between","hover:bg-green-200","transition-colors","duration-300",3,"click"],["fill","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["fill-rule","evenodd","d","M10 18a1 1 0 001.707.707l5-5a1 1 0 00-1.414-1.414L11 16.586 8.707 14.293a1 1 0 00-1.414 1.414l2 2zM4 10a6 6 0 1112 0 6 6 0 01-12 0zm6-4a4 4 0 100 8 4 4 0 000-8z","clip-rule","evenodd"],[1,"flex","items-center","bg-red-100","text-red-700","px-4","py-2","rounded-md","w-full","justify-between","hover:bg-red-200","transition-colors","duration-300",3,"click"],["fill-rule","evenodd","d","M10 18a1 1 0 01-1.414-1.414L12.172 13l-3.586-3.586a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5A1 1 0 0110 18z","clip-rule","evenodd"]],template:function(a,c){a&1&&(o(0,"div",0)(1,"aside",1)(2,"div",2)(3,"button",3),v("click",function(){return c.toggleSidebar()}),_(4,"i",4),r()(),o(5,"div",5)(6,"p",6),l(7),m(8,"translate"),r()(),o(9,"ul",7),h(10,te,3,9,"li",8),r(),o(11,"button",9),v("click",function(){return c.logout()}),h(12,ie,4,3,"ng-container",10)(13,ne,2,0,"ng-container",10),r()(),o(14,"div",11)(15,"h1",12),l(16),m(17,"translate"),r(),o(18,"div",13)(19,"table",14)(20,"thead",15)(21,"tr")(22,"th",16),l(23,"#Id"),r(),o(24,"th",16),l(25),m(26,"translate"),r(),o(27,"th",16),l(28),m(29,"translate"),r(),o(30,"th",16),l(31),m(32,"translate"),r()()(),o(33,"tbody",17),h(34,oe,12,19,"tr",18),r()()(),h(35,le,27,24,"div",19),r()()),a&2&&(n(),p("ngClass",k(24,K,!c.isCollapsed,c.isCollapsed)),n(4),p("ngClass",k(27,Q,!c.isCollapsed,c.isCollapsed)),n(2),P(" ",u(8,14,"home-user.hello")," ",c.user.first_name," ",c.user.last_name," "),n(3),p("ngForOf",c.menuItems),n(2),p("ngIf",!c.isCollapsed),n(),p("ngIf",c.isCollapsed),n(3),d(u(17,16,"home-user.list-rv")),n(9),d(u(26,18,"home-user.statut")),n(3),d(u(29,20,"home-user.day")),n(3),d(u(32,22,"home-user.action")),n(3),p("ngForOf",c.intervants),n(),p("ngIf",c.isPopupOpen))},dependencies:[L,j,D,z,J,A,$]});let t=s;return t})();export{we as GestionRvComponent};
